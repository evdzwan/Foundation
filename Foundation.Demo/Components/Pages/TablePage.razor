@rendermode InteractiveServer
@page "/components/table"

<PageTitle>Table</PageTitle>
<h1>Table</h1>

<Selector Selection="SelectedBooks">
    <Pager PageSize="20">
        <Table Items="Books">
            <Column Expression="book => book.Id" />
            <Column Expression="book => book.Title" />
            <Column Expression="book => book.PublicationDate" />
        </Table>
    </Pager>
</Selector>

@code {
    readonly ISelection<Book> SelectedBooks = Selection.Multiple<Book>();

    static readonly Book[] AllBooks = BookRepository.CreateRange(1, 100);
    readonly IAsyncCollection<Book> Books = AsyncCollection.Create(async page =>
    {
        await Task.Delay(1_000);
        return AllBooks.Skip(page.Skip).Take(page.Take).ToArray();
    });
}
